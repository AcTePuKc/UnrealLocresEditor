<Window
    x:Class="UnrealLocresEditor.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:models="clr-namespace:UnrealLocresEditor.Models"
    Title="Unreal Locres Studio"
    Width="800"
    Height="450"
    Background="{DynamicResource BackgroundColor}"
    CanResize="True"
    Foreground="{DynamicResource TextColor}"
    Icon="/Assets/ULE-icon.ico"
    WindowStartupLocation="CenterScreen">

	<Window.Styles>

		<Style Selector="DataGridCell">
			<Setter Property="TextBlock.TextTrimming" Value="CharacterEllipsis"/>
			<Setter Property="Foreground" Value="{DynamicResource TextColor}"/>
		</Style>

		<Style Selector="DataGridColumnHeader">
			<Setter Property="Background" Value="{DynamicResource DataGridHeaderColor}"/>
			<Setter Property="Foreground" Value="{DynamicResource TextColor}"/>
			<Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
		</Style>

		<Style Selector="DataGridRow:nth-child(2n)">
			<Setter Property="Background" Value="{DynamicResource DataGridAlternateRowColor}"/>
		</Style>

		<Style Selector="DataGrid DataGridCell TextBlock">
			<Setter Property="FontFamily"
							Value="{Binding RelativeSource={RelativeSource AncestorType=DataGrid}, Path=FontFamily}"/>
			<Setter Property="FontSize"
							Value="{Binding RelativeSource={RelativeSource AncestorType=DataGrid}, Path=FontSize}"/>
		</Style>

		<Style Selector="DataGrid DataGridCell TextBox">
			<Setter Property="FontFamily"
							Value="{Binding RelativeSource={RelativeSource AncestorType=DataGrid}, Path=FontFamily}"/>
			<Setter Property="FontSize"
							Value="{Binding RelativeSource={RelativeSource AncestorType=DataGrid}, Path=FontSize}"/>
		</Style>

		<Style Selector="TabStripItem">
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Foreground" Value="{DynamicResource TextColor}"/>
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Margin" Value="0,0,2,0"/>
			<Setter Property="Padding" Value="15,8"/>
			<Setter Property="CornerRadius" Value="4 4 0 0"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="BorderBrush" Value="{DynamicResource BorderColor}"/>
			<Setter Property="BorderThickness" Value="1,1,1,0"/>
			<Setter Property="Transitions">
				<Transitions>
					<BrushTransition Property="Background" Duration="0:0:0.1"/>
				</Transitions>
			</Setter>
		</Style>

		<Style Selector="TabStripItem:pointerover">
			<Setter Property="Background" Value="#40808080"/>
		</Style>

		<Style Selector="TabStripItem:selected">
			<Setter Property="Background" Value="{DynamicResource DataGridHeaderColor}"/>
			<Setter Property="FontWeight" Value="Bold"/>
		</Style>

		<Style Selector="TabStripItem:selected:pointerover">
			<Setter Property="Background" Value="{DynamicResource DataGridHeaderColor}"/>
		</Style>

	</Window.Styles>

	<Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto,*">

		<Menu Grid.Row="0" Grid.ColumnSpan="2">

			<MenuItem Header="_File">
				<MenuItem Name="uiOpenMenuItem"
									Click="OpenMenuItem_Click"
									Header="Open locres"
									InputGesture="Ctrl+O"/>
				<MenuItem Name="uiMergeMenuItem"
									Click="MergeMenuItem_Click"
									Header="Merge locres"/>

				<MenuItem Header="-"/>

				<MenuItem Name="uiSaveMenuItem"
									Click="SaveMenuItem_Click"
									Header="Save / Export locres"
									InputGesture="Ctrl+S"/>

				<MenuItem Header="-"/>

				<MenuItem Header="Import / Export Data">
					<MenuItem Name="uiOpenSpreadsheetMenuItem"
										Click="OpenSpreadsheetMenuItem_Click"
										Header="Import CSV (Spreadsheet)"/>
					<MenuItem Name="uiImportTxtMenuItem"
										Click="ImportTxtMenuItem_Click"
										Header="Import TXT (TSV)"/>
					<MenuItem Header="-"/>
					<MenuItem Name="uiSaveAsMenuItem"
										Click="SaveAsMenuItem_Click"
										Header="Export to CSV"/>
					<MenuItem Name="uiExportTxtMenuItem"
										Click="ExportTxtMenuItem_Click"
										Header="Export to TXT (TSV)"/>
				</MenuItem>

				<MenuItem Header="-"/>

				<MenuItem Name="uiCloseMenuItem"
									Click="CloseMenuItem_Click"
									Header="Close Current Tab"
									InputGesture="Ctrl+W"/>

				<MenuItem Name="uiExitMenuItem"
									Click="ExitMenuItem_Click"
									Header="Exit"
									InputGesture="Alt+F4"/>
			</MenuItem>

			<MenuItem Header="_Edit">
				<MenuItem Name="uiFindMenuItem"
									Click="FindMenuItem_Click"
									Header="Find"
									InputGesture="Ctrl+F"/>
				<MenuItem Name="uiFindReplaceMenuItem"
									Click="FindReplaceMenuItem_Click"
									Header="Find and replace"
									InputGesture="Ctrl+H"/>
				<MenuItem Click="CopySourceToTarget"
									Header="Copy _Source to Target"
									InputGesture="Ctrl+T"/>
				<MenuItem Click="CopySourceToTargetMultiple"
									Header="Copy Source to Target (_Multiple)"
									InputGesture="Ctrl+Shift+T"/>
				<MenuItem Header="-"/>
				<MenuItem Name="uiPreferencesMenuItem"
									Header="Preferences"/>
			</MenuItem>

			<MenuItem Name="uiLinuxHeader" Header="_Linux">
				<MenuItem Name="uiWinePrefix"
									Click="WinePrefix_Click"
									Header="Attempt wine prefix"/>
			</MenuItem>

			<MenuItem Header="_Help">
				<MenuItem Name="reportIssueMenuItem"
									Click="ReportIssueMenuItem_Click"
									Header="Report issue"/>
				<MenuItem Name="uiAboutMenuItem"
									Click="AboutMenuItem_Click"
									Header="About"/>
			</MenuItem>

		</Menu>

		<TabStrip
				x:Name="uiDocumentTabs"
				Grid.Row="1"
				Grid.ColumnSpan="2"
				Margin="5,5,5,0"
				MinHeight="30"
				Background="Transparent"
				x:CompileBindings="False"
				ItemsSource="{Binding Documents}"
				SelectedItem="{Binding SelectedDocument}">

			<TabStrip.ItemTemplate>
				<DataTemplate x:DataType="models:LocresDocument">
					<StackPanel Orientation="Horizontal" Spacing="5">
						<TextBlock Text="{Binding TabHeader}" VerticalAlignment="Center"/>
					</StackPanel>
				</DataTemplate>
			</TabStrip.ItemTemplate>

		</TabStrip>

		<DataGrid
				x:Name="uiDataGrid"
				x:DataType="models:DataRow"
				Grid.Row="2"
				Grid.ColumnSpan="2"
				AutoGenerateColumns="False"
				Background="{DynamicResource BackgroundColor}"
				BorderBrush="{DynamicResource BorderColor}"
				BorderThickness="2"
				CanUserResizeColumns="True"
				ClipboardCopyMode="IncludeHeader"
				GridLinesVisibility="All"
				IsReadOnly="False"
				MinColumnWidth="50">
		</DataGrid>

	</Grid>
</Window>
